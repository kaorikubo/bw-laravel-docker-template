# Laravel Lesson レビュー①

## Todo一覧機能

### Todoモデルのallメソッドで実行しているSQLは何か
todosテーブルのレコードを全件取得

### Todoモデルのallメソッドの返り値は何か
luminate\Database\Eloquent\Collectionクラスのインスタンス

### 配列の代わりにCollectionクラスを使用するメリットは
・配列にはない多くの便利なメソッド（map(), filter(),reduce(), pluck(), sort(), groupBy() など）を提供
・メソッドチェーンが可能
・イミュータブル（不変）である - 元のコレクションを変更せず、新しいインスタンスを返すため副作用がない。バグを防ぐ。

### view関数の第1・第2引数の指定と何をしているか
view関数 : 画像として表示したいHTMLを指定することができる。
view関数の引数 : 第1引数に画面に表示したいbladeファイルを指定し、第2引数には渡したいデータを連想配列の形で渡せる

### index.blade.phpの$todos・$todoに代入されているものは何か
todos変数として、取得したデータを表示している - Todo一覧を表示



## Todo作成機能

### Requestクラスのallメソッドは何をしているか
フォームから送信された値を個別ではなく一括で取得

### fillメソッドは何をしているか
連想配列で取得した値をTodoインスタンスの各プロパティに一括で代入

### $fillableは何のために設定しているか
Modelに対してどの属性を一度に代入可能かを指定するもの - 不正な属性の代入/意図しないカラムの更新を防ぐため(他属性が含まれていたらマスアサインメントが無効化/エラーの発生)

### saveメソッドで実行しているSQLは何か
モデルのインスタンスをデータベースに保存/挿入/更新する

### redirect()->route()は何をしているか
ToDoが新規作成された後に、一覧画面を表示させる





## その他

### テーブル構成をマイグレーションファイルで管理するメリット
・ファイルをコードとして管理できるためテーブルの変更履歴(追加、削除、変更)をGitなどの管理システムで追跡できる
・複数人での開発時にもテーブル構成の変更を共有/統一できる
・簡単にデータベースに同期できる
・手動でSQLクエリを書く必要がなく、自動でデータベースの作成や更新などの処理をしてくれる
・新しい開発者が参画した際などの環境のセットアップが簡単

### マイグレーションファイルのup()、down()は何のコマンドを実行した時に呼び出されるのか
up() : php artisan migrate - マイグレーション適用時
down() : php artisan migrate:rollback - マイグレーションのロールバック時
### Seederクラスの役割は何か
データベースに初期データを挿入すること

### route関数の引数・返り値・使用するメリット
・ルート名からそのルートで設定したURLを生成することができる
・変更があった場合もルート名が変わらなければ修正箇所は最低限になるため保守性の向上

### @extends・@section・@yieldの関係性とbladeを分割するメリット
・複数のBladeを組み合わせて1枚のHTMLを生成することが可能
・重複するコードを共通化して再利用できるようになるため、保守性が向上する

### @csrfは何のための記述か
追記するだけでCSRF対策が完了する - 不特定多数の人に対して意図しないリクエスト送信をさせる攻撃を防ぐ

### {{ }}とは何の省略系か
PHPの処理
